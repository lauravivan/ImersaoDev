let strangerThingsCards = [
    {
        nome: "Eleven",
        atributos: {strength: 100, knowledge: 10, badass: 100, leadership: 80},
        img: "assets/img/StrangerThings/eleven.gif"
    },
    {
        nome: "Will the Wise",
        atributos: {strength: 10, knowledge: 80, badass: 90, leadership: 30},
        img: "assets/img/StrangerThings/will.gif"
    },
    {
        nome: "Dustin",
        atributos: {strength: 30, knowledge: 100, badass: 40, leadership: 90},
        img: "assets/img/StrangerThings/dustin.gif"
    },
    {
        nome: "Mike",
        atributos: {strength: 20, knowledge: 70, badass: 10, leadership: 20},
        img: "assets/img/StrangerThings/mike.gif"
    },
    {
        nome: "Lucas",
        atributos: {strength: 80, knowledge: 90, badass: 90, leadership: 70},
        img: "assets/img/StrangerThings/lucas.gif"
    },
    {
        nome: "Hopper",
        atributos: {strength: 90, knowledge: 10, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/hopper.gif"
    },
    {
        nome: "Nancy",
        atributos: {strength: 90, knowledge: 80, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/nancy.gif"
    },
    {
        nome: "Joyce Byers",
        atributos: {strength: 70, knowledge: 70, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/joyce.gif"
    },
    {
        nome: "Madmax",
        atributos: {strength: 80, knowledge: 80, badass: 100, leadership: 80},
        img: "assets/img/StrangerThings/max.gif"
    },
    {
        nome: "Billy",
        atributos: {strength: 90, knowledge: 10, badass: 100, leadership: 30},
        img: "assets/img/StrangerThings/billy.gif"
    },
    {
        nome: "Bob Superhero",
        atributos: {strength: 40, knowledge: 100, badass: 80, leadership: 80},
        img: "assets/img/StrangerThings/bob.gif"
    },
    {
        nome: "Jonathan",
        atributos: {strength: 80, knowledge: 50, badass: 70, leadership: 50},
        img: "assets/img/StrangerThings/jonathan.gif"
    },
    {
        nome: "Steve Harrington",
        atributos: {strength: 70, knowledge: 10, badass: 100, leadership: 70},
        img: "assets/img/StrangerThings/steve.gif"
    },
    {
        nome: "Erica",
        atributos: {strength: 20, knowledge: 90, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/erica.gif"
    },
    {
        nome: "Murray",
        atributos: {strength: 50, knowledge: 100, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/murray.gif"
    },
    {
        nome: "Smirnoff",
        atributos: {strength: 20, knowledge: 100, badass: 60, leadership: 50},
        img: "assets/img/StrangerThings/smirnoff.gif"
    },
    {
        nome: "Scott Clarke",
        atributos: {strength: 20, knowledge: 100, badass: 70, leadership: 90},
        img: "assets/img/StrangerThings/scott.gif"
    },
    {
        nome: "Robin",
        atributos: {strength: 80, knowledge: 100, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/robin.gif"
    },
    {
        nome: "Demogorgon",
        atributos: {strength: 90, knowledge: 10, badass: 100, leadership: 50},
        img: "assets/img/StrangerThings/demogorgon.gif"
    },
    {
        nome: "Shadow Monster/The Mind Flayer",
        atributos: {strength: 100, knowledge: 20, badass: 100, leadership: 100},
        img: "assets/img/StrangerThings/shadow-monster.gif"
    },
];
let strangerThingsGifsVictory = [
    "assets/img/StrangerThings/VictoryGifs/suzy.gif", 
    "assets/img/StrangerThings/VictoryGifs/boys.gif",
    "assets/img/StrangerThings/VictoryGifs/steve-and-dustin.gif",
    "assets/img/StrangerThings/VictoryGifs/boys-2.gif",
    "assets/img/StrangerThings/VictoryGifs/smirnoff.gif",
    "assets/img/StrangerThings/VictoryGifs/boys-happy.gif"
];
let strangerThingsGifsDefeat = [
    "assets/img/StrangerThings/DefeatGifs/robin.gif",
    "assets/img/StrangerThings/DefeatGifs/eleven.gif",
    "assets/img/StrangerThings/DefeatGifs/robin-bord.gif",
    "assets/img/StrangerThings/DefeatGifs/mike.gif",
    "assets/img/StrangerThings/DefeatGifs/will.gif",
    "assets/img/StrangerThings/DefeatGifs/will-2.gif",
];

let scottPilgrimVsTheWorldCards = [
    {
        nome: "Scott Pilgrim",
        atributos: {damage: 90, powers: 60, sarcasm: 70, wit: 100},
        img: "assets/img/ScottPilgrimVsTheWorld/scott.gif"
    },
    {
        nome: "Ramona Flowers",
        atributos: {damage: 90, powers: 70, sarcasm: 40, wit: 40},
        img: "assets/img/ScottPilgrimVsTheWorld/ramona.gif"
    },
    {
        nome: "Wallace",
        atributos: {damage: 20, powers: 0, sarcasm: 100, wit: 100},
        img: "assets/img/ScottPilgrimVsTheWorld/wallace.gif"
    },
    {
        nome: "Knives Chau",
        atributos: {damage: 90, powers: 0, sarcasm: 0, wit: 10},
        img: "assets/img/ScottPilgrimVsTheWorld/knives.gif"
    },
    {
        nome: "Kim",
        atributos: {damage: 50, powers: 0, sarcasm: 70, wit: 80},
        img: "assets/img/ScottPilgrimVsTheWorld/kim.gif"
    },
    {
        nome: "Young Neil",
        atributos: {damage: 30, powers: 0, sarcasm: 10, wit: 0},
        img: "assets/img/ScottPilgrimVsTheWorld/neil.gif"
    },
    {
        nome: "Stephen",
        atributos: {damage: 60, powers: 0, sarcasm: 60, wit: 20},
        img: "assets/img/ScottPilgrimVsTheWorld/stephen.gif"
    },
    {
        nome: "Envy Adams",
        atributos: {damage: 90, powers: 60, sarcasm: 80, wit: 70},
        img: "assets/img/ScottPilgrimVsTheWorld/envy.gif"
    },
    {
        nome: "Lucas Lee",
        atributos: {damage: 100, powers: 0, sarcasm: 80, wit: 0},
        img: "assets/img/ScottPilgrimVsTheWorld/lucas.gif"
    },
    {
        nome: "Todd",
        atributos: {damage: 100, powers: 100, sarcasm: 70, wit: 0},
        img: "assets/img/ScottPilgrimVsTheWorld/todd.gif"
    },
    {
        nome: "Matthew Patel",
        atributos: {damage: 80, powers: 100, sarcasm: 0, wit: 0},
        img: "assets/img/ScottPilgrimVsTheWorld/matthew.gif"
    },
    {
        nome: "Roxy",
        atributos: {damage: 90, powers: 50, sarcasm: 30, wit: 0},
        img: "assets/img/ScottPilgrimVsTheWorld/roxy.gif"
    },
    {
        nome: "Stacey Pilgrim",
        atributos: {damage: 0, powers: 0, sarcasm: 100, wit: 70},
        img: "assets/img/ScottPilgrimVsTheWorld/stacey.gif"
    },
    {
        nome: "Nega Scott",
        atributos: {damage: 90, powers: 80, sarcasm: 70, wit: 100},
        img: "assets/img/ScottPilgrimVsTheWorld/nega-scott.gif"
    },
    {
        nome: "Gideon",
        atributos: {damage: 100, powers: 100, sarcasm: 100, wit: 40},
        img: "assets/img/ScottPilgrimVsTheWorld/gideon.gif"
    },
    {
        nome: "The Katayanagi Twins",
        atributos: {damage: 100, powers: 100, sarcasm: 0, wit: 50},
        img: "assets/img/ScottPilgrimVsTheWorld/twins.gif"
    },
]
let scottPilgrimVsTheWorldGifsVictory = [
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/envy-singing.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/flying.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/laugh.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/lucas-happy.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/ramona-smiling.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/scott-sword.gif",
    "assets/img/ScottPilgrimVsTheWorld/VictoryGifs/the-band.gif"
];
let scottPilgrimVsTheWorldGifsDefeat = [
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/bad-mood.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/guy-from-a-band.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/k.o.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/kim-shoot.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/scott-complaining.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/scott-delete.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/scott-head.gif",
    "assets/img/ScottPilgrimVsTheWorld/DefeatGifs/scott-punch.gif",
];

let dramaCards = [
    {
        nome: "Goblin",
        img: "assets/img/DramaCharacters/goblin.gif",
        atributos: {charming: 100, mocking: 80, stylish: 100, embarasing: 70, iconic: 100}
    },
    {
        nome: "Grim Reaper",
        img: "assets/img/DramaCharacters/reaper.gif",
        atributos: {charming: 20, mocking: 70, stylish: 20, embarasing: 80, iconic: 100}
    },
    {
        nome: "Ji Eun-tak",
        img: "assets/img/DramaCharacters/ji-eun-tak.gif",
        atributos: {charming: 100, mocking: 70, stylish: 100, embarasing: 0, iconic: 100}
    },
    {
        nome: "Yoo Deok-hwa",
        img: "assets/img/DramaCharacters/deok-hwa.gif",
        atributos: {charming: 100, mocking: 90, stylish: 100, embarasing: 20, iconic: 100}
    },
    {
        nome: "Do Bong-soon",
        img: "assets/img/DramaCharacters/bong-soon.gif",
        atributos: {charming: 100, mocking: 50, stylish: 80, embarasing: 0, iconic: 100}
    },
    {
        nome: "Min-hyuk",
        img: "assets/img/DramaCharacters/min-hyuk.gif",
        atributos: {charming: 70, mocking: 80, stylish: 90, embarasing: 80, iconic: 90}
    },
    {
        nome: "In Kook-doo",
        img: "assets/img/DramaCharacters/kook-doo.gif",
        atributos: {charming: 10, mocking: 10, stylish: 60, embarasing: 30, iconic: 40}
    },
    {
        nome: "Baek Soo-tak",
        img: "assets/img/DramaCharacters/soo-tak.jpg",
        atributos: {charming: 60, mocking: 70, stylish: 10, embarasing: 90, iconic: 100}
    },
    {
        nome: "Kim Kwang-bok",
        img: "assets/img/DramaCharacters/kwang-bok.gif",
        atributos: {charming: 10, mocking: 60, stylish: 0, embarasing: 100, iconic: 80}
    },
    {
        nome: "Shin Joon-young",
        img: "assets/img/DramaCharacters/joon-young.jpg",
        atributos: {charming: 40, mocking: 70, stylish: 80, embarasing: 10, iconic: 20}
    },
    {
        nome: "Noh Eul",
        img: "assets/img/DramaCharacters/noh-eul.gif",
        atributos: {charming: 80, mocking: 70, stylish: 100, embarasing: 10, iconic: 80}
    },
    {
        nome: "Noh Jik",
        img: "assets/img/DramaCharacters/noh-jik.jpg",
        atributos: {charming: 50, mocking: 60, stylish: 70, embarasing: 40, iconic: 10}
    },
    {
        nome: "Choi Ha-roo",
        img: "assets/img/DramaCharacters/ha-roo.gif",
        atributos: {charming: 10, mocking: 40, stylish: 90, embarasing: 90, iconic: 0}
    },
    {
        nome: "Yoo Jin-kang",
        img: "assets/img/DramaCharacters/jin-kang.gif",
        atributos: {charming: 100, mocking: 20, stylish: 60, embarasing: 0, iconic: 50}
    },
    {
        nome: "Kim Moo-young",
        img: "assets/img/DramaCharacters/moo-young.gif",
        atributos: {charming: 100, mocking: 100, stylish: 100, embarasing: 0, iconic: 100}
    },
    {
        nome: "Yoo Jin-kook",
        img: "assets/img/DramaCharacters/jin-kook.jpg",
        atributos: {charming: 50, mocking: 40, stylish: 10, embarasing: 70, iconic: 50}
    },
    {
        nome: "Yang Kyung-mo",
        img: "assets/img/DramaCharacters/kyung-mo.jpg",
        atributos: {charming: 90, mocking: 10, stylish: 50, embarasing: 10, iconic: 40}
    },
    {
        nome: "Myul Mang",
        img: "assets/img/DramaCharacters/doom.gif",
        atributos: {charming: 100, mocking: 100, stylish: 100, embarasing: 0, iconic: 100}
    },
    {
        nome: "Tak Dong-gyung",
        img: "assets/img/DramaCharacters/dong-gyung.gif",
        atributos: {charming: 80, mocking: 20, stylish: 70, embarasing: 30, iconic: 20}
    },
    {
        nome: "Yoo Hye-jeong",
        img: "assets/img/DramaCharacters/hye-jeong.gif",
        atributos: {charming: 80, mocking: 20, stylish: 100, embarasing: 20, iconic: 100}
    },
    {
        nome: "Hong Ji-hong",
        img: "assets/img/DramaCharacters/ji-hong.jpg",
        atributos: {charming: 100, mocking: 80, stylish: 100, embarasing: 30, iconic: 100}
    },
    {
        nome: "Lim Joo-kyung",
        img: "assets/img/DramaCharacters/joo-kyung.gif",
        atributos: {charming: 100, mocking: 20, stylish: 100, embarasing: 20, iconic: 100}
    },
    {
        nome: "Lee Su-ho",
        img: "assets/img/DramaCharacters/su-ho.gif",
        atributos: {charming: 10, mocking: 30, stylish: 10, embarasing: 100, iconic: 0}
    },
    {
        nome: "Han Seo-joon",
        img: "assets/img/DramaCharacters/seo-joon.gif",
        atributos: {charming: 100, mocking: 50, stylish: 70, embarasing: 90, iconic: 100}
    },
    {
        nome: "Lim Ju-young",
        img: "assets/img/DramaCharacters/ju-young.jpg",
        atributos: {charming: 100, mocking: 100, stylish: 100, embarasing: 50, iconic: 100}
    },
    {
        nome: "Choi Soo-a",
        img: "assets/img/DramaCharacters/soo-a.gif",
        atributos: {charming: 100, mocking: 10, stylish: 90, embarasing: 40, iconic: 100}
    },
    {
        nome: "Yoo tae-hoon",
        img: "assets/img/DramaCharacters/tae-hoon.gif",
        atributos: {charming: 100, mocking: 10, stylish: 70, embarasing: 60, iconic: 100}
    },
    {
        nome: "Han Go-woon",
        img: "assets/img/DramaCharacters/go-woon.png",
        atributos: {charming: 100, mocking: 80, stylish: 100, embarasing: 10, iconic: 100}
    },
    {
        nome: "Yu Na-bi",
        img: "assets/img/DramaCharacters/na-bi.gif",
        atributos: {charming: 70, mocking: 0, stylish: 50, embarasing: 20, iconic: 50}
    },
    {
        nome: "Park Jae-eon",
        img: "assets/img/DramaCharacters/jae-eon.gif",
        atributos: {charming: 90, mocking: 40, stylish: 40, embarasing: 30, iconic: 50}
    },
    {
        nome: "Yoon Sol",
        img: "assets/img/DramaCharacters/sol.gif",
        atributos: {charming: 100, mocking: 0, stylish: 70, embarasing: 0, iconic: 100}
    },
    {
        nome: "Seo Ji-wan",
        img: "assets/img/DramaCharacters/ji-wan.gif",
        atributos: {charming: 100, mocking: 0, stylish: 90, embarasing: 20, iconic: 100}
    },
    {
        nome: "Oh Bit-na",
        img: "assets/img/DramaCharacters/bit-na.gif",
        atributos: {charming: 70, mocking: 70, stylish: 90, embarasing: 40, iconic: 100}
    },
    {
        nome: "Nam Kyu-hyun",
        img: "assets/img/DramaCharacters/kyu-hyun.jpg",
        atributos: {charming: 50, mocking: 0, stylish: 20, embarasing: 10, iconic: 40}
    }
]
let dramaGifsVictory = [
    "assets/img/DramaCharacters/VictoryGifs/bong-soon-2.gif",
    "assets/img/DramaCharacters/VictoryGifs/bong-soon.gif",
    "assets/img/DramaCharacters/VictoryGifs/goblin-2.gif",
    "assets/img/DramaCharacters/VictoryGifs/goblin-3.gif",
    "assets/img/DramaCharacters/VictoryGifs/goblin.gif",
    "assets/img/DramaCharacters/VictoryGifs/true-beauty-2.gif",
    "assets/img/DramaCharacters/VictoryGifs/true-beauty.gif",
    "assets/img/DramaCharacters/VictoryGifs/nevertheless.gif",
    "assets/img/DramaCharacters/VictoryGifs/nevertheless-2.gif",
    "assets/img/DramaCharacters/VictoryGifs/nevertheless-3.gif",
    "assets/img/DramaCharacters/VictoryGifs/nevertheless-4.gif",
    "assets/img/DramaCharacters/VictoryGifs/nevertheless-5.gif"
];
let dramaGifsDefeat = [
    "assets/img/DramaCharacters/DefeatGifs/bong-soon.gif",
    "assets/img/DramaCharacters/DefeatGifs/goblin-2.gif",
    "assets/img/DramaCharacters/DefeatGifs/goblin-3.gif",
    "assets/img/DramaCharacters/DefeatGifs/goblin.gif",
    "assets/img/DramaCharacters/DefeatGifs/true-beauty.gif",
    "assets/img/DramaCharacters/DefeatGifs/uncontrollably-fond.gif",
    "assets/img/DramaCharacters/DefeatGifs/nevertheless.gif",
    "assets/img/DramaCharacters/DefeatGifs/nevertheless-2.gif",
    "assets/img/DramaCharacters/DefeatGifs/nevertheless-3.gif"
];

let userCards = [];
let computerCards = [];
let userCard;
let computerCard;
let qntUserCards = 0;
let qntComputerCards = 0;
let chosenTheme = [];
let chosenVictoryGifs = [];
let chosenDefeatGifs = [];
let totalQuantity = 0;

function strangerThings() {
    buildHTML();
    chosenTheme = strangerThingsCards;
    chosenVictoryGifs = strangerThingsGifsVictory;
    chosenDefeatGifs = strangerThingsGifsDefeat;
    qntUserCards = 10;
    qntComputerCards = 10;
    totalQuantity = 20;
}

function scottPilgrimVsTheWorld() {
    buildHTML();
    chosenTheme = scottPilgrimVsTheWorldCards;
    chosenVictoryGifs = scottPilgrimVsTheWorldGifsVictory;
    chosenDefeatGifs = scottPilgrimVsTheWorldGifsDefeat;
    qntUserCards = 8;
    qntComputerCards = 8;
    totalQuantity = 16;
}

function dramaCharacters() {
    buildHTML();
    chosenTheme = dramaCards;
    chosenVictoryGifs = dramaGifsVictory;
    chosenDefeatGifs = dramaGifsDefeat;
    qntUserCards = 17;
    qntComputerCards = 17;
    totalQuantity = 34;
}

function buildHTML() {
    let header = document.getElementById("page-up");
    let main = document.getElementById("page-content");
    header.innerText = "";
    header.style.margin = 0;
    main.innerText = "";
    main.style.marginLeft = 0;
    main.style.marginRight = 0;
    main.innerHTML = `<div class="container-super-trunfo">
                        <h1 class="super-trunfo-title">Super Trunfo</h1>
                        <img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/logo-imersao-super-trunfo.png" class="page-logo"><br>
                        <button onclick="raffleCards()" id="btnRaffle">Sortear cartas</button>
                        <h2 class="lbl-choose-character">Escolha o seu personagem</h2>
                        <div class="options" id="options"></div>
                        <button type="button" id="btnChoice" onclick="chooseCharacter()" disabled="false">Escolhi</button>
                        <button type="button" id="btnPlay" onclick="play()" disabled="false">Jogar</button>
                        <button type="button" id="btnTryAgain" onclick="tryAgain()" disabled="false" style="display: block;">Tentar de novo</button>
                    </div>
                    <div class="container-cards">
                        <p class="title" id="title"></p><br>
                        <div class="gif" id="gif"></div>
                        <div class="second-container">
                            <div class="card" id="user-card"></div>
                            <p id='card-vs-card'></p>
                            <div class="card" id="computer-card"></div>
                        </div>
                    </div>`;
}

function raffleCards() {
    let aux;
    for (let i = 0; i < chosenTheme.length; i++) {
        draw = parseInt(Math.random() * (chosenTheme.length));

        aux = chosenTheme[i];
        chosenTheme[i] = chosenTheme[draw];
        chosenTheme[draw] = aux;
    }
    distributeCards(chosenTheme);
}

function distributeCards(listOfCards) {
    for (let i = 0; i < listOfCards.length; i++) {
        let separate = listOfCards.length / 2;
        if (i < separate) {
            userCards.push(listOfCards[i]);
        } else {
            computerCards.push(listOfCards[i]);
        }
    }
    showOptions();
}

function showOptions() {
    let divOptions = document.getElementById("options");
    let characters = "";
    for (let i = 0; i < userCards.length; i++) {
        if (userCards[i] != null) {
            characters += `<input type="radio" name="radio" class="radio" value="${userCards[i].nome}">${userCards[i].nome}<br>`;
        }
    }
    divOptions.innerHTML = "Suas cartas: " + qntUserCards + "/" + totalQuantity + "<br>" + characters;
    document.getElementById("btnRaffle").disabled = true;
    document.getElementById("btnChoice").disabled = false;
}

function discoverSelectedRadio(radio) {
    let options = document.getElementsByName(radio);

    for(let i = 0; i < options.length; i++) {
        if (options[i].checked) {
            return options[i].value;
        }
    }
}

function chooseCharacter() {
    document.getElementById("card-vs-card").innerHTML = "";
    document.getElementById("computer-card").innerHTML = "";
    document.getElementById("computer-card").style.backgroundImage = "";
    let chosenCharacter = discoverSelectedRadio("radio");
    let userChoiceIndex;

    for (let i = 0; i < userCards.length; i++) {
        if (userCards[i] != null) {
            if (chosenCharacter == userCards[i].nome) {
                userChoiceIndex = i;
                break;
            }
        }
    }
    userCard = userCards[userChoiceIndex];
    document.getElementById("btnChoice").disabled = true;
    showCard();
}

let rounds = 0;
let flagComputerRound = 0;

function showCard() {
    if ((rounds % 2) == 0) {
        let divUserCard = document.getElementById("user-card");
        let divAtributes = "<div class='atributes'>";
        document.getElementById("title").innerHTML = "Sua carta:";

        let frame = "<img src='https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent-ajustado.png' style='width: inherit; height: inherit; position: absolute;'>";
        let allAtributes = "";
        let characterName = "<h2>" + userCard.nome + "</h2>";
        divUserCard.style.backgroundImage = `url(${userCard.img})`;
        for (let atributo in userCard.atributos) {
            allAtributes += "<input type='radio' name='radio-two' value='" + atributo + "'>" + atributo + ": " + userCard.atributos[atributo] + "<br>";
        }
        divUserCard.innerHTML = frame + characterName + divAtributes + allAtributes + "</div>";
        document.getElementById("btnPlay").disabled = false;
    } else {
        flagComputerRound = 1;
        let divUserCard = document.getElementById("user-card");
        let divAtributes = "<div class='atributes'>";
        document.getElementById("title").innerHTML = "Sua carta:";

        let frame = "<img src='https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent-ajustado.png' style='width: inherit; height: inherit; position: absolute;'>";
        let allAtributes = "";
        let characterName = "<h2>" + userCard.nome + "</h2>";
        divUserCard.style.backgroundImage = `url(${userCard.img})`;
        for (let atributo in userCard.atributos) {
            allAtributes += "<p type='text'>" + atributo + ": " + userCard.atributos[atributo] + "</p>";
        }
        divUserCard.innerHTML = frame + characterName + divAtributes + allAtributes + "</div>";
        document.getElementById("btnPlay").disabled = false;
    }
    rounds++;
}

let computerAtribute;

function play() {
    if (flagComputerRound == 1) {
        let biggestAtribute = - 1;
        let chosenAtributeByComputer;
        let computerChoiceIndex = parseInt(Math.random() * (computerCards.length));
        while (computerCards[computerChoiceIndex] == null) {
            computerChoiceIndex = parseInt(Math.random() * (computerCards.length));
        }
        computerCard = computerCards[computerChoiceIndex];

        for (let atributo in computerCard.atributos) {
            if (computerCard.atributos[atributo] > biggestAtribute) {
                biggestAtribute = computerCard.atributos[atributo];
            }
        }
        for (let atributo in computerCard.atributos) {
            if (computerCard.atributos[atributo] == biggestAtribute) {
                chosenAtributeByComputer = atributo;
            }
        }

        computerAtribute = chosenAtributeByComputer;

        for (let atributo in userCard.atributos) {
            if (chosenAtributeByComputer == atributo) {
                if (computerCard.atributos[atributo] > userCard.atributos[atributo]) {
                    showResultOnScreen("VOCÊ PERDEU!", rounds, 0);
                } else if (computerCard.atributos[atributo] < userCard.atributos[atributo]) {
                    showResultOnScreen("PARABÉNS, VOCÊ VENCEU!", rounds, 1);
                } else {
                    showResultOnScreen("EMPATE!", rounds, 2);
                }
            }
        }
        flagComputerRound = 0;
    } else {
        let chosenAtributeByUser = discoverSelectedRadio("radio-two");

        let computerChoiceIndex = parseInt(Math.random() * (computerCards.length));
        while (computerCards[computerChoiceIndex] == null) {
            computerChoiceIndex = parseInt(Math.random() * (computerCards.length));
        }
        computerCard = computerCards[computerChoiceIndex];
        for (let atributo in computerCard.atributos) {
            if(atributo == chosenAtributeByUser) {
                if (computerCard.atributos[atributo] > userCard.atributos[atributo]) {
                    showResultOnScreen("VOCÊ PERDEU!", rounds, 0);
                } else if (computerCard.atributos[atributo] < userCard.atributos[atributo]) {
                    showResultOnScreen("PARABÉNS, VOCÊ VENCEU!", rounds, 1);
                } else {
                    showResultOnScreen("EMPATE!", rounds, 2);
                }
            }
        }
    }
    
}

function showResultOnScreen(msg, round, code) {
    let divComputerCard = document.getElementById("computer-card");
    let divAtributes = "<div class='atributes'>";
    if (computerAtribute == undefined) {
        document.getElementById("title").innerHTML = "ROUND " + round + "<br>" + msg 
    } else {
        document.getElementById("title").innerHTML = "ROUND " + round + "<br>" + msg + "<br>" + "O Computador escolheu " + computerAtribute;
        computerAtribute = undefined;
    }
    document.getElementById("card-vs-card").innerHTML = "X";
    let frame = "<img src='https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent-ajustado.png' style='width: inherit; height: inherit; position: absolute;'>";
    let allAtributes = "";
    let characterName = "<h2>" + computerCard.nome + "</h2>";
    divComputerCard.style.backgroundImage = `url(${computerCard.img})`;
    for (let atributo in computerCard.atributos) {
        allAtributes += "<p type='text'>" + atributo + ": " + computerCard.atributos[atributo] + "</p>";
    }
    divComputerCard.innerHTML = frame + characterName + divAtributes + allAtributes + "</div>";

    document.getElementById("btnPlay").disabled = true;
    roundResult(code);
}

function roundResult(code) {
    //0 = usuario perdeu
    //1 = usuario ganhou
    //2 = empatou 

    if (code == 0) {
        for (let i = 0; i < userCards.length; i++) {
            if (userCards[i] == userCard) {
                computerCards.push(userCard);
                delete userCards[i];
                qntUserCards--;
                qntComputerCards++;
                break;
            }
        }
    } else if (code == 1) {
        for (let i = 0; i < computerCards.length; i++) {
            if (computerCards[i] == computerCard) {
                userCards.push(computerCard);
                delete computerCards[i];
                qntUserCards++;
                qntComputerCards--;
                break;
            }
        }
    }
    document.getElementById("options").innerHTML = "";
    if (qntComputerCards == totalQuantity) {
        endOfGame("FIM DE JOGO! VOCÊ PERDEU!", 0);
    } else if (qntUserCards == totalQuantity) {
        endOfGame("FIM DE JOGO! PARABÉNS, VOCÊ GANHOU!", 1);
    } else {
        anotherRound();
    }
}

function anotherRound() {
    let divOptions = document.getElementById("options");
    let characters = "";
    for (let i = 0; i < userCards.length; i++) {
        if (userCards[i] != null) {
            characters += `<input type="radio" name="radio" class="radio" value="${userCards[i].nome}">${userCards[i].nome}<br>`;
        }
    }
    divOptions.innerHTML = "Suas cartas: " + qntUserCards + "/" + totalQuantity + "<br>" + characters;
    document.getElementById("btnChoice").disabled = false;
}

function endOfGame(msg, code) {
    // codigo == 0 (o computador ganhou)
    // codigo == 1 (o usuário ganhou)
    document.getElementById("card-vs-card").innerHTML = "";
    document.getElementById("computer-card").innerHTML = "";
    document.getElementById("computer-card").style.backgroundImage = "";
    document.getElementById("user-card").innerHTML = "";
    document.getElementById("user-card").style.backgroundImage = "";
    document.getElementById("title").innerHTML = msg;
    if (code == 0) {
        let chosenIndex = parseInt(Math.random() * chosenDefeatGifs.length);
        document.getElementById("gif").innerHTML = "<img src='" + chosenDefeatGifs[chosenIndex] + "' style='width: 50vw'>";
    } else if (code == 1) {
        let chosenIndex = parseInt(Math.random() * chosenVictoryGifs.length);
        document.getElementById("gif").innerHTML = "<img src='" + chosenVictoryGifs[chosenIndex] + "' style='width: 50vw'>";
    }
    document.getElementById("btnChoice").disabled = true;
    document.getElementById("btnPlay").disabled = true;
    document.getElementById("btnTryAgain").disabled = false;
}

function tryAgain() {
    location.reload();  
}